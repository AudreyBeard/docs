# サンプリングとバケット分け

## サンプリング

パフォーマンス上の理由から、線プロットのメトリックで1500点以上を選択した場合、W&Bは1500点をランダムにサンプリングしたものを返します。各メトリックは別々にサンプリングされ、実際にメトリックがログに残されているステップのみが考慮されます。

runごとにログされたすべてのメトリックを見たり、独自のサンプリングを実装したい場合は、W&B APIを使用できます。

```python
run = api.run("l2k2/examples-numpy-boston/i0wt6xua")
history = run.scan_history(keys=["Loss"])
losses = [row["Loss"] for row in history]
```

## バケット分け

複数のrunをグループ化したり、x軸の値が揃っていない可能性のある複数のrunで式を使用する場合、バケット分けが用いられてポイントをダウンサンプリングします。x軸は200の等間隔なセグメントに分けられ、各セグメント内で特定のメトリックのすべてのポイントが平均されます。グループ化や式を使用して複数のメトリックを組み合わせる場合、このセグメント内の平均がメトリックの値として使用されます。